# PBI-01-3 Adjust supabase.ts for local mode

## Description
Modify `src/lib/supabase.ts` to tolerate missing Supabase env vars when local mode is enabled (`VITE_LOCAL_ANALYZE=true`). Export `isLocalMode` for consumers.

## Status History
- 2025-08-26T12:55:00+05:30 | user_approves | Proposed -> Agreed | Proceed with supabase local mode tolerance. | User
- 2025-08-26T12:57:30+05:30 | start_work | Agreed -> InProgress | Implementing `isLocalMode`, conditional client and headers. | AI_Agent
- 2025-08-26T13:00:30+05:30 | submit_for_review | InProgress -> Review | Changes implemented; build successful. | AI_Agent

## Requirements
- Export `isLocalMode`.
- Do not throw when env vars missing if local mode is true.
- Provide safe `getAuthHeaders()` even if anon key missing.

## Implementation Plan
- Guard client creation behind `!isLocalMode`.
- Provide API base string safely if URL missing.

## Test Plan
- With `VITE_LOCAL_ANALYZE=true` and no Supabase env vars, app should build and run without runtime errors.

## Verification
- Build successful.

## Files Modified
- `src/lib/supabase.ts`
